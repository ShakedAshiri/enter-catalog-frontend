<div>
  <form [formGroup]="userInfoForm" (ngSubmit)="onSubmit(userInfoForm)">
    <mat-card class="card">
      <div
        class="card-img-container"
        appEditable
        [isEditable]="isEditable"
        [isMultiEdit]="true"
        (startEdit)="fileInput.click()"
        (saveEdit)="saveEdit('image')"
        (cancelEdit)="cancelEdit('image')"
      >
        <input
          #fileInput
          type="file"
          accept="image/*"
          style="display: none"
          (change)="onImageFileSelected($event)"
        />
        <img class="card-img" [src]="imageControl.value || 'avatar.png'" />

        <div *ngIf="imageErrorMessage" class="error-message">
          {{ imageErrorMessage }}
        </div>
      </div>
      <div class="card-text-container">
        <mat-form-field
          class="displayName small transparent"
          appearance="outline"
          appEditable
          [isEditable]="isEditable"
          (startEdit)="startEditing('displayName')"
          (saveEdit)="saveEdit('displayName')"
          (cancelEdit)="cancelEdit('displayName')"
        >
          <div class="card-title-container">
            <input
              matInput
              [formControl]="displayNameControl"
              [readonly]="!isEditable"
            />
          </div>
        </mat-form-field>
        <mat-form-field
          class="tagline small transparent"
          appearance="outline"
          appEditable
          [isEditable]="isEditable"
          (startEdit)="startEditing('tagline')"
          (saveEdit)="saveEdit('tagline')"
          (cancelEdit)="cancelEdit('tagline')"
        >
          <input
            matInput
            [formControl]="taglineControl"
            [readonly]="!isEditable"
          />
        </mat-form-field>
        <mat-form-field
          appEditable
          [isEditable]="isEditable"
          (startEdit)="startEditing('description')"
          (saveEdit)="saveEdit('description')"
          (cancelEdit)="cancelEdit('description')"
          class="description small transparent"
          appearance="outline"
        >
          <textarea
            matInput
            rows="3"
            [formControl]="descriptionControl"
            [readonly]="!isEditable"
          ></textarea>
        </mat-form-field>
      </div>
    </mat-card>
  </form>
</div>
